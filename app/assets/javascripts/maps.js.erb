var marker;

function initialize() {

    var styles = [
        {
            stylers: [
                { hue: "#00a651" },
                { saturation: -40 }
            ]
        },{
            featureType: "road",
            elementType: "geometry.fill",
            stylers: [
                { lightness: 100 },
                { visibility: "simplified" }
            ]
        },{
            featureType: "road",
            elementType: "labels",
            stylers: [
                { visibility: "off" }
            ]
        }
    ];
    var parliament = new google.maps.LatLng(-21.7941667, -48.1743202);

    var mapOptions = {
        center: new google.maps.LatLng(-21.7941667, -48.1743202),
        zoom: 15,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        mapOptions);

    var marker = new google.maps.Marker({
        map:map,
        draggable:true,
        animation: google.maps.Animation.DROP,
        position: parliament
    });
    google.maps.event.addListener(marker, 'click', toggleBounce);

    map.setOptions({
        panControl: false,
        scrollwheel: false,
        disableDoubleClickZoom: true,
        keyboardShortcuts: false
    });

    google.maps.event.addDomListener(window, 'load', initialize);

    map.setOptions({styles: styles});

}

function toggleBounce() {

    if (marker.getAnimation() != null) {
        marker.setAnimation(null);
    } else {
        marker.setAnimation(google.maps.Animation.BOUNCE);
    }
}

jQuery(document).ready(function() {
    initialize();
});

